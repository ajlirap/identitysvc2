APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=sqlite
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=laravel
# DB_USERNAME=root
# DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=database
# CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"
IDENTITY_VENDOR=b2c
ID_AUDIENCE=api://identitysvc
ID_JWT_LEEWAY=60
ID_JWKS_TTL=3600

# === Azure AD B2C ===
B2C_TENANT_ID=yourtenant.onmicrosoft.com
B2C_DOMAIN=your-tenant.b2clogin.com

B2C_POLICY_SIGNIN=B2C_1_sign_in
B2C_POLICY_PASSWORD_RESET=B2C_1_password_reset
B2C_CLIENT_ID=
B2C_CLIENT_SECRET=
B2C_REDIRECT_URI=https://identitysvc.example.com/auth/callback
B2C_SCOPE="openid offline_access https://yourtenant.onmicrosoft.com/api/read"
B2C_USE_PKCE=false
B2C_ISSUER=https://your-tenant.b2clogin.com/your-tenant.onmicrosoft.com/v2.0/
B2C_JWKS_URI=https://your-tenant.b2clogin.com/your-tenant.onmicrosoft.com/discovery/v2.0/keys
B2C_TOKEN_ENDPOINT=
B2C_AUTHORIZE_ENDPOINT=
B2C_GRAPH_TENANT=
B2C_GRAPH_CLIENT_ID=
B2C_GRAPH_CLIENT_SECRET=
B2C_GRAPH_SCOPE=https://graph.microsoft.com/.default # v2 uses scope=.default; if using v1 token endpoint, set to https://graph.microsoft.com (resource)
B2C_GRAPH_TOKEN_ENDPOINT= # optional override; if empty we auto-discover from /.well-known/openid-configuration
B2C_GRAPH_RAW_ROUTES=true # when false, hides all /api/admin/b2c/graph/* routes

# Notes:
# - If the discovered or configured token endpoint is v1 (/oauth2/token), the service sends 'resource=https://graph.microsoft.com'.
# - If it's v2 (/oauth2/v2.0/token), the service sends 'scope=https://graph.microsoft.com/.default'.
# - Admin Graph routes are only registered when IDENTITY_VENDOR=b2c.
B2C_GRAPH_TOKEN_ENDPOINT=

# === Auth0 ===
AUTH0_DOMAIN=your-domain.us.auth0.com
AUTH0_CLIENT_ID=
AUTH0_CLIENT_SECRET=
AUTH0_REDIRECT_URI=https://identitysvc.example.com/auth/callback
AUTH0_AUDIENCE=
AUTH0_JWKS_URI=https://your-domain.us.auth0.com/.well-known/jwks.json
AUTH0_ISSUER=https://your-domain.us.auth0.com/
AUTH0_MGMT_CLIENT_ID=
AUTH0_MGMT_CLIENT_SECRET=
AUTH0_MGMT_AUDIENCE=https://your-domain.us.auth0.com/api/v2/

# === Okta ===
OKTA_DOMAIN=dev-xxxx.okta.com
OKTA_CLIENT_ID=
OKTA_CLIENT_SECRET=
OKTA_REDIRECT_URI=https://identitysvc.example.com/auth/callback
OKTA_ISSUER=https://dev-xxxx.okta.com/oauth2/default
OKTA_JWKS_URI=https://dev-xxxx.okta.com/oauth2/default/v1/keys
OKTA_API_TOKEN=

# === Keycloak ===
KC_REALM=myrealm
KC_BASE_URL=https://keycloak.example.com
KC_CLIENT_ID=
KC_CLIENT_SECRET=
KC_REDIRECT_URI=https://identitysvc.example.com/auth/callback
KC_ISSUER=https://keycloak.example.com/realms/myrealm
KC_JWKS_URI=https://keycloak.example.com/realms/myrealm/protocol/openid-connect/certs
KC_ADMIN_USER=
KC_ADMIN_PASS=

# Keycloak quick test checklist:
# - Enable service account on your confidential client.
# - Assign realm-management roles: view-users, query-users, manage-users (optional: query-groups).
# - Set env: IDENTITY_VENDOR=keycloak, KC_BASE_URL, KC_REALM, KC_CLIENT_ID, KC_CLIENT_SECRET, KC_ISSUER, KC_JWKS_URI.
# - Verify by obtaining a client-credentials token and calling the Admin API users endpoint.

# --- Logging ---
LOG_CHANNEL=stack
LOG_STACK=stderr,daily
LOG_LEVEL=debug
LOG_FORMAT=json # json|line
LOG_DAILY_DAYS=14
APP_TIMEZONE=UTC

# HTTP logging toggles
LOG_HTTP_ALL_ROUTES=false
LOG_HTTP_REQUEST_BODY=false
LOG_HTTP_RESPONSE_BODY=false
LOG_HTTP_MAX_BODY=2048
LOG_HTTP_DRIVER=daily
LOG_HTTP_LEVEL=info
LOG_HTTP_DAYS=7

# === Public email validation & CAPTCHA (optional) ===
# Non-enumerating email validation controls
EMAIL_ALLOWED_DOMAINS=
EMAIL_BLOCKED_DOMAINS=
EMAIL_VALIDATE_MX=false
EMAIL_REVEAL_EXISTENCE=true

# CAPTCHA for public endpoints (/api/users/validate-email, /api/users/check-active)
CAPTCHA_ENABLED=false
CAPTCHA_PROVIDER=recaptcha # recaptcha|turnstile
CAPTCHA_SECRET=
CAPTCHA_MIN_SCORE=0.5 # reCAPTCHA v3 only
CAPTCHA_RECAPTCHA_VERIFY_URL=https://www.google.com/recaptcha/api/siteverify
CAPTCHA_TURNSTILE_VERIFY_URL=https://challenges.cloudflare.com/turnstile/v0/siteverify

# === Tracing headers (optional overrides) ===
TRACE_CORRELATION_HEADER=X-Correlation-Id
TRACE_REQUEST_HEADER=X-Request-Id
TRACE_TRACEPARENT_HEADER=traceparent
TRACE_TRACESTATE_HEADER=tracestate
